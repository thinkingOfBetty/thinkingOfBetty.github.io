---
title: 登录问题排查
date: 2019-08-04 
---
登录失败问题原因：
前端和后端联调时，后台加了一个http配置参数，导致前端cookie校验错误；

登录问题：登录时遇到接口返回“the csrf session token is missing”；

&emsp;&emsp;在后端同事一直没有定位到问题所在时，我自己尝试帮忙排查问题。一开始看到session token is missing的时候，我是觉得可能前端请求接口的时候参数有问题，但是后面发现整个请求过程跟以往并无异样。

&emsp;&emsp;后端同事比对了能在开发环境正常登陆的请求以及我本地登陆异常的接口，发现我本地登陆的时候少了一个session，此时项目经理还认为是Nginx配置的问题。

&emsp;&emsp;我忽然想起来之前工作的公司在遇到这种登陆接口挂掉的时候是通过复制能正常访问网站的cookie到本地开发环境进行登陆的，当我采取同样的方式时发现本地的浏览器的session确实比能正常登陆的少了一条，而复制了session之后也可以正常登陆。通过反馈这一现象，帮助后端同事更快地定位到错误。